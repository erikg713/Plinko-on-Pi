<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Plinko game for Raspberry Pi — responsive canvas-based game with Pi SDK integration and high scores." />
    <title>Plinko — Play on Pi</title>

    <!-- Load stylesheet efficiently -->
    <link rel="preload" href="style.css" as="style" onload="this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="style.css"></noscript>

    <!-- Pi SDK (non-blocking). Keep async so the page renders even if the SDK is slow to load. -->
    <script src="https://sdk.mine.pi/pi-sdk.js" async onerror="console.warn('Pi SDK failed to load')" crossorigin="anonymous"></script>
</head>
<body>
    <header class="app-header" role="banner">
        <h1 class="visually-hidden">Plinko on Pi</h1>
    </header>

    <main id="game-container" class="container" role="main" aria-labelledby="game-title">
        <div class="panel user-panel">
            <div id="game-title" class="sr-only">Plinko Game</div>
            <p class="user-info" aria-live="polite">
                Welcome, <strong id="pi-username">Guest</strong>!
                <span id="pi-balance" class="balance">Score: <span id="score-value">0</span></span>
            </p>
        </div>

        <section class="canvas-area" aria-label="Plinko board">
            <canvas id="plinko-canvas" width="800" height="600" role="img" aria-label="Plinko game board">
                Your browser does not support the HTML5 canvas element.
            </canvas>
        </section>

        <section class="controls" aria-label="Game controls">
            <button id="play-button" class="btn primary" disabled>Play</button>
            <button id="reset-button" class="btn" aria-label="Reset game">Reset</button>
        </section>

        <p id="message-area" class="message" role="status" aria-live="polite">Click 'Play' to start!</p>

        <aside id="high-scores-board" class="panel high-scores" aria-labelledby="high-scores-heading">
            <h3 id="high-scores-heading">High Scores</h3>
            <ol id="high-scores-list" class="scores-list" aria-live="polite">
                <!-- High score items will be inserted here -->
            </ol>
        </aside>
    </main>

    <footer class="app-footer" role="contentinfo">
        <small>Plinko — optimized for responsiveness and accessibility.</small>
    </footer>

    <!-- Main application script (module). Modules are deferred by default, so the DOM will be available. -->
    <script type="module" src="main.js"></script>
</body>
</html>
